<div data-section-id="{{ section.id }}" data-section-type="product" data-enable-history-state="true">

  {%- assign current_variant = product.selected_or_first_available_variant -%}
  {%- assign featured_image = current_variant.featured_image | default: product.featured_image -%}

  <h1>{{ product.title }}</h1>

  <form action="/cart/add" method="post" enctype="multipart/form-data">
    <select name="id" class="no-js" data-product-select>
      {% for variant in product.variants %}
        <option
          {% if variant == current_variant %}selected="selected"{% endif %}
          {% unless variant.available %}disabled="disabled"{% endunless %}
          value="{{ variant.id }}">
            {{ variant.title }}
        </option>
      {% endfor %}
    </select>

    <label for="Quantity">{{ 'product.quantity' | t }}</label>
    <input type="number" id="Quantity" name="quantity" value="1" min="1">
    {% include 'switch' with value_id: 'switch-id' %}
    <button
      class="button"
      type="submit"
      name="add"
      data-add-to-cart
      {% unless current_variant.available %}disabled="disabled"{% endunless %}>
        <span data-add-to-cart-text>
          {% if current_variant.available %}
            {{ 'product.add_to_cart' | t }}
          {% else %}
            {{ 'product.sold_out' | t }}
          {% endif %}
        </span>
    </button>
  </form>

  {% unless product == empty %}
    <script type="application/json" data-product-json>
      {{ product | json }}
    </script>
  {% endunless %}
</div>

{% schema %}
  {
    "name": "Product pages",
    "settings": [
      {
        "type": "checkbox",
        "id": "show_share_buttons",
        "label": "Show social sharing buttons",
        "default": true
      }
    ]
  }
{% endschema %}
