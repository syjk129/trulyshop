<div class="product-container" data-section-id="{{ section.id }}" data-section-type="product" data-enable-history-state="true">

  {%- assign current_variant = product.selected_or_first_available_variant -%}
  {%- assign featured_image = current_variant.featured_image | default: product.featured_image -%}

  {%- assign product_models = "" | split: "|" -%}
  {%- assign product_models_fits = "" | split: "|" -%}

  {% for image in product.images %}
    {%- assign alt_values = image.alt | split: "|" -%}
    {% unless product_models contains alt_values[0] %}
      {% assign model_name = alt_values[0] | split: "|" %}
      {% assign model_fit = alt_values[1] | split: "|" %}
      {% unless alt_values[0] contains "Campaign" %}
        {% assign product_models = product_models | concat: model_name %}
        {% assign product_models_fits = product_models_fits | concat: model_fit %}
      {% endunless %}
    {% endunless %}
  {% endfor %}

  <div class="product" id="product-content">
    <div class="product-images desktop">
      <div class="see-how-style" data-model="{{ product_models[0] }}">
        <div class="body3">{{ product_models[0] }} is 5'8", size 8, wearing a Small</div>
        <button class="btn outline">See how {{ product_models[1] }} Wears it</button>
      </div>
      <div class="see-how-style" data-model="{{ product_models[1] }}">
        <div class="body3">{{ product_models[1] }} is 5'8", size 8, wearing a Small</div>
        <button class="btn outline">See how {{ product_models[0] }} Wears it</button>
      </div>
      <div class="product-images-desktop" data-model="{{ product_models[0] }}">
        {% for image in product.images %}
          {%- assign alt_values = image.alt | split: "|" -%}
          {% if alt_values[0] == product_models[0] %}
            <img src="{{ image | img_url: '600x600' }}">
          {% endif %}
        {% endfor %}
      </div>
      <div class="product-images-desktop" data-model="{{ product_models[1] }}">
        {% for image in product.images %}
          {%- assign alt_values = image.alt | split: "|" -%}
          {% if alt_values[0] == product_models[1] %}
            <img src="{{ image | img_url: '600x600' }}">
          {% endif %}
        {% endfor %}
      </div>
    </div>
    <div class="breadcrumb mobile">
      <div class="body3 grey collections">Collections / {{ product.collections[0].description }} / {{ product.title }}</div>
      <div class="see-how-style" data-model="{{ product_models[0] }}">
        <div class="body3 desktop">{{ product_models[0] }} is 5'8", size 8, wearing a Small</div>
        <div class="body2 mobile">{{ product_models[0] }} is 5'8", size 8, wearing a Small</div>
        <button class="btn outline">See how {{ product_models[1] }} Wears it</button>
      </div>
      <div class="see-how-style" data-model="{{ product_models[1] }}">
        <div class="body3 desktop">{{ product_models[1] }} is 5'8", size 8, wearing a Small</div>
        <div class="body2 mobile">{{ product_models[1] }} is 5'8", size 8, wearing a Small</div>
        <button class="btn outline">See how {{ product_models[0] }} Wears it</button>
      </div>
    </div>
    <div class="product-images mobile">
      <div class="product-image-slider" data-model="{{ product_models[0] }}">
        {% for image in product.images %}
          {% assign alt_values = image.alt | split: "|" %}
          {% if alt_values[0] == product_models[0] %}
            <img class="slider-image" src="{{ image | img_url: '500x500' }}">
          {% endif %}
        {% endfor %}
      </div>
      <div class="product-image-slider" data-model="{{ product_models[1] }}">
        {% for image in product.images %}
          {% assign alt_values = image.alt | split: "|" %}
          {% if alt_values[0] == product_models[1] %}
            <img class="slider-image" src="{{ image | img_url: '500x500' }}">
          {% endif %}
        {% endfor %}
      </div>
    </div>
    <div class="product-details" id="product-details" data-product-details>
      <div class="sidebar__inner">
        <div class="callout">{{ product.vendor }}</div>
        <h3>{{ product.title }}</h3>
        <div class="body1 price">{{ product.price | money }}</div>
        <div class="divider desktop"></div>
        <form action="/cart/add" method="post" enctype="multipart/form-data">
          <div class="js">
            <div class="body2 select-label">{{ 'product.choose_color' | t }}</div>
            {% include 'color-swatch' %}
            <div class="divider desktop"></div>
            <div class="body2 select-label">{{ 'product.choose_size' | t }}</div>
            {% include 'size-swatch' %}
            <div class="divider desktop"></div>
          </div>
          <div class="no-js">
            <select name="id" class="no-js" data-product-select>
              {% for variant in product.variants %}
                <option
                  {% if variant == current_variant %}selected="selected"{% endif %}
                  {% unless variant.available %}disabled="disabled"{% endunless %}
                  value="{{ variant.id }}">
                    {{ variant.title }}
                </option>
              {% endfor %}
            </select>
          </div>
          <div class="body2 select-label">{{ 'product.quantity' | t }}</div>
          <input class="quantity" type="number" id="Quantity" name="quantity" value="1" min="1">
          <button
            class="btn large add-to-cart"
            type="submit"
            name="add"
            {% unless current_variant.available %}disabled="disabled"{% endunless %}>
              <span data-add-to-cart-text>
                {% if current_variant.available %}
                  {{ 'product.add_to_cart' | t }}
                {% else %}
                  {{ 'product.sold_out' | t }}
                {% endif %}
              </span>
          </button>
        </form>

        <div class="callout">{{ 'product.details' | t }}</div>
        <div class="rte product-description">{{ product.description }}</div>

        {% unless product == empty %}
          <script type="application/json" data-product-json>
            {{ product | json }}
          </script>
        {% endunless %}
        </div>
      </div>
    </div>
  </div>

  <div class="other-products">
    <h3>{{ 'product.other_items_from_collection' | t }}</h3>
    <div class="other-product-item-list">
      {% for item in product.collections[0].products %}
        {% unless item.id == product.id %}
          <a href="{{ item.url }}" class="ratio-image r4x3">
            <img src="{{ item.featured_image | img_url: '400x400' }}">
          </a>
        {% endunless %}
      {% endfor %}
    </div>
  </div>
</div>

{% schema %}
  {
    "class": "full-width",
    "settings": [
      {
        "type": "checkbox",
        "id": "show_share_buttons",
        "label": "Show social sharing buttons",
        "default": true
      }
    ]
  }
{% endschema %}
